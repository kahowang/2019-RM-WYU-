12.25版本增加了FreeRtos软件定时器，去掉tim7，增加资源得利用，
在重新使用cube生成代码时，记得留意stm32F4xxit.c得uasrt2回调函数，把默认得中断服务函数去掉。
12.27版本移植ROS系统，rosserial配置在usart3
12.28版本增加ROS底盘的逆运动学算法，（在底盘运动学逆运算仍存在bug，具体到每一个轮子的方向不正确）
12.29版本修正了kinmatics逆运动学方法，具体参考来自https://blog.csdn.net/bug_creator/article/details/79938312
12.30版本增加了逆运动学，但是再数据传输时，仍存在bug，轮子方向也进行修正，为从右上角为0，逆时针一圈
12.31版本 usart3 波特率修改为115200 ，但串口传输仍然存在问题，增加遥控扭腰闪躲和原地旋转功能。
1.1版本增加平移功能。
1.4版本修复ROS串口增加订阅者，发布者bug（原因主要在无线串口模块，用实物线），存在新的bug，需要按复位键才能正常操作。
1.16版本增加了夹取机构的3508电机，电调返回的报文标识符为0X205~0X208，发送的标识符为0X1FF。
1.18版本暂时修复了ros的发布者，订阅者存在的数据流bug的问题。
1.23版本增加上层抬升支架，使用can1的motor7.motor8
1.24版本整合代码，增加can2，  can1：底盘电机motor0-motor3,抬升电机motor6-motor7；can2： 夹取电机motor4-motor5（3508电机的角度是绝对的）
2.22版本运用matlab仿真出来的速度环pid三个参数进行底盘调整，底盘控制明显好了。
2.24版本参照2.212修改了夹取机构。
2.28版本修改修改2.25remote,进行电机和遥控离线检测，本程序是串口显示。
3.1版本，离线检测采用LED显示的方法。
3.7版本，通过经验调参，调整出比较快的pid参数，但仍然不稳定，抬升机构使用新的pid参数，夹取机构采用原来的pid参数，增加了伸缩机构2006电机，为can2motor6
3.11版本，通过使用插值和查表法，抬升调用S曲线，并将角度的得出放在TIM5里，参考公式https://blog.csdn.net/j_d_c/article/details/79024935  1ms返回一次，同时时序上出现了较大的问题，要注意定时器的优先级。
3.12版本，修改程序的框架，pid运算，及角度的获取都放在TIM5里，1ms集体进行一次，pid输出放在大循环里。
3.13版本，加入键鼠控制。
3.15版本，整合了ROS和remote，进行遥控切换ROS模式。
3.17版本，修改了ROS底盘的位置环参数KP为0.7
3.18版本，增加了Z轴方向的旋转，修复了一个ROS_ON_OFF产生在终端错误的bug，ROS_ON_OFF的发布改为发布一次，就不会报错。
3.20版本，ROS底盘运动，角度输入增加了斜坡函数，使精度更高，但要放弃速度。
3.22版本，键鼠修改驱动方式，仿照遥控的写法，并且都加入斜坡函数。
3.25版本，修改了抬升电机的PID，暂时可以拍视频。
3.31版本，增加SCM555电子罗盘的角度解算，放在USART1,串口打印输出是UART4
4.1版本，抱柱程序开启，暂时使用电机的角度反馈，角度换算时，要把柱子的半径和摩擦轮的半径比例算上。
4.31版本，从新修改程序逻辑，分配好给个定时器，串口的优先级，禁用了freertos。
4.32版本，增加了抱柱先上升一小段距离，夹取变为按一下"Z"自动实现所有功能。
4.4版本，延长了抬升得下降时间。
4.5版本，修改下降的一小段距离函数。
4.6版本增加了键盘控制抬升角度，“Z”为抱柱角度，“X”为下降，“C”为夹取角度
4.8版本参照了大连交大和官方的代码，修改了can通信滤波器的代码，发现了抬升电机抖动的原因是时序问题。
4.9版本，把pid_output() 函数放在TIM5里，1ms执行一次，修改can2的setcurrent 函数，改为上层四个电机，抱柱为motor0-motor1，夹取为motor2-3
4.12版本，增加了按"R"2006开启弹舱
4.19版本，修改displacement 函数，可以在拨杆在中的情况下，发送多次，修改ros_displacement头文件,增加自动夹取，修改夹取时间，夹取为500ms执行完，翻转为1400ms，共1900ms。
4.24版本，增加了夹取的抬升一点的角度动作，并增加了伸缩
4.28版本，调整了拨弹轮的PID，响应更加迅速。
4.29版本，增加了裁判系统的交互发送数据，界面第一个数字为是否有伸缩，界面灯全绿ROS连上，全红ROS断开。
5.1版本，修改了夹取的角度反馈为阶跃输入。
5.3版本，代码生成由1.241cube 库生成，增加了光电反馈。
5.5版本，增加继电器控制，优化自动取弹。
5.6版本，修改伸出动作，不过废用。
5.11版本，南部分区赛代码，分为红蓝版本。
2018.5.1王家浩